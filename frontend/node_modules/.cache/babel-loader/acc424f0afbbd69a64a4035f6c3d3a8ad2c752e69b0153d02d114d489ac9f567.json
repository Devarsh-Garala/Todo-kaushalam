{"ast":null,"code":"import React,{useState}from'react';import{useContext}from'react';import TaskContext from'../../context/TaskContext';import TokenContext from'../../context/TokenContext';import axios from\"../../Axios/axios.js\";import\"./createTask.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CreateTask(_ref){let{id}=_ref;const{dispatch}=useContext(TaskContext);const{userToken}=useContext(TokenContext);const[title,setTitle]=useState(\"\");const[description,setDescription]=useState(\"\");const[priority,setPriority]=useState(\"low\");const[dueDate,setDueDate]=useState(\"\");const[toast,setToast]=useState();if(id){console.log(\"asfid\",id);}const handleAdd=async e=>{e.preventDefault();try{const res=await axios.post(\"/task/addTask\",{title,description,priority,dueDate},{headers:{Authorization:`Bearer ${userToken}`}});setToast(res.data.message);showToast();}catch(error){console.log(error);}dispatch({type:\"ADD_TASK\",title,description,priority,dueDate});setTitle(\"\");setDescription(\"\");setPriority(\"low\");setDueDate(\"\");};const showToast=()=>{const toast=document.getElementById('toast');toast.style.display=\"block\";setTimeout(hideToast,2000);};const hideToast=()=>{const toast=document.getElementById('toast');toast.style.display=\"none\";};return/*#__PURE__*/_jsx(\"div\",{className:\"addContainer md:w-1/3 md:mx-auto mx-3 mt-3 flex justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-11/12\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAdd,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",id:\"title\",value:title,required:true,onChange:e=>setTitle(e.target.value),className:\"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full p-2.5\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:5,name:\"description\",id:\"description\",value:description,required:true,onChange:e=>setDescription(e.target.value),style:{resize:\"none\"},className:\"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full p-2.5\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"priority\",children:\"Priority\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"priority\",id:\"priority\",value:priority,onChange:e=>setPriority(e.target.value),className:\"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full p-2.5\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dueDate\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"dueDate\",id:\"dueDate\",value:dueDate,onChange:e=>setDueDate(e.target.value),className:\"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full p-2.5\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-yellow-500 rounded-md text-white px-5 py-1\",children:\"Add\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"toast bg-yellow-500 text-white p-3 rounded-xl shadow-2xl text-center absolute bottom-4 left-1/2 -translate-x-1/2\",id:\"toast\",children:/*#__PURE__*/_jsx(\"p\",{children:toast})})]})});}export default CreateTask;","map":{"version":3,"names":["React","useState","useContext","TaskContext","TokenContext","axios","jsx","_jsx","jsxs","_jsxs","CreateTask","_ref","id","dispatch","userToken","title","setTitle","description","setDescription","priority","setPriority","dueDate","setDueDate","toast","setToast","console","log","handleAdd","e","preventDefault","res","post","headers","Authorization","data","message","showToast","error","type","document","getElementById","style","display","setTimeout","hideToast","className","children","onSubmit","htmlFor","name","value","required","onChange","target","rows","resize"],"sources":["C:/Users/Admin/Desktop/Kaushalam-ToDO/Todo-kaushalam/frontend/src/components/createTask/CreateTask.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useContext } from 'react';\r\nimport TaskContext from '../../context/TaskContext';\r\nimport TokenContext from '../../context/TokenContext';\r\nimport axios from \"../../Axios/axios.js\"\r\nimport \"./createTask.css\"\r\n\r\nfunction CreateTask({ id }) {\r\n    const { dispatch } = useContext(TaskContext)\r\n    const { userToken } = useContext(TokenContext)\r\n    const [title, setTitle] = useState(\"\")\r\n    const [description, setDescription] = useState(\"\")\r\n    const [priority, setPriority] = useState(\"low\")\r\n    const [dueDate, setDueDate] = useState(\"\")\r\n    const [toast, setToast] = useState();\r\n    if (id) {\r\n        console.log(\"asfid\", id);\r\n    }\r\n\r\n    const handleAdd = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await axios.post(\"/task/addTask\", {\r\n                title,\r\n                description,\r\n                priority,\r\n                dueDate\r\n            }, {\r\n                headers: {\r\n                    Authorization: `Bearer ${userToken}`\r\n                }\r\n            })\r\n            setToast(res.data.message)\r\n            showToast();\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        dispatch({\r\n            type: \"ADD_TASK\",\r\n            title,\r\n            description,\r\n            priority,\r\n            dueDate\r\n        })\r\n        setTitle(\"\")\r\n        setDescription(\"\")\r\n        setPriority(\"low\")\r\n        setDueDate(\"\")\r\n    }\r\n\r\n    const showToast = () => {\r\n        const toast = document.getElementById('toast');\r\n        toast.style.display = \"block\"\r\n        setTimeout(hideToast, 2000)\r\n    }\r\n    const hideToast = () => {\r\n        const toast = document.getElementById('toast');\r\n        toast.style.display = \"none\"\r\n    }\r\n\r\n    return (\r\n        <div className=\"addContainer md:w-1/3 md:mx-auto mx-3 mt-3 flex justify-center\">\r\n            <div className='w-11/12'>\r\n                <form onSubmit={handleAdd}>\r\n                    <div>\r\n                        <label htmlFor=\"title\">Title</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"title\"\r\n                            id=\"title\"\r\n                            value={title}\r\n                            required\r\n                            onChange={(e) => setTitle(e.target.value)}\r\n                            className='bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full p-2.5' />\r\n                    </div>\r\n                    <div className='my-3'>\r\n                        <label htmlFor=\"description\">Description</label>\r\n                        <textarea\r\n                            rows={5}\r\n                            name=\"description\"\r\n                            id=\"description\"\r\n                            value={description}\r\n                            required\r\n                            onChange={(e) => setDescription(e.target.value)}\r\n                            style={{ resize: \"none\" }}\r\n                            className='bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full p-2.5' />\r\n                    </div>\r\n                    <div className='my-3'>\r\n                        <label htmlFor=\"priority\">Priority</label>\r\n                        <select\r\n                            name=\"priority\"\r\n                            id=\"priority\"\r\n                            value={priority}\r\n                            onChange={(e) => setPriority(e.target.value)}\r\n                            className='bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full p-2.5'\r\n                        >\r\n                            <option value=\"low\">Low</option>\r\n                            <option value=\"medium\">Medium</option>\r\n                            <option value=\"high\">High</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className='my-3'>\r\n                        <label htmlFor=\"dueDate\">Due Date</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            name=\"dueDate\"\r\n                            id=\"dueDate\"\r\n                            value={dueDate}\r\n                            onChange={(e) => setDueDate(e.target.value)}\r\n                            className='bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-full p-2.5'\r\n                        />\r\n                    </div>\r\n                    <div className='flex justify-center'>\r\n                        <button\r\n                            type='submit'\r\n                            className='bg-yellow-500 rounded-md text-white px-5 py-1'\r\n                        >Add</button>\r\n                    </div>\r\n                </form>\r\n                <div className=\"toast bg-yellow-500 text-white p-3 rounded-xl shadow-2xl text-center absolute bottom-4 left-1/2 -translate-x-1/2\" id='toast'>\r\n                    <p>{toast}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateTask;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}