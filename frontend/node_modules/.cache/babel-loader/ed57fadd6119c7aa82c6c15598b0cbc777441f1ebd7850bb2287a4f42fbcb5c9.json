{"ast":null,"code":"import React,{useState,useContext}from'react';import{Link,Navigate}from'react-router-dom';import axios from\"../Axios/axios.js\";import TokenContext from'../context/TokenContext.js';import loginImg from'../assets/login.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[formData,setFormData]=useState({});const{userToken,tokenDispatch,userDispatch}=useContext(TokenContext);const[error,setError]=useState();const handleSubmit=async e=>{e.preventDefault();try{const result=await axios.post(\"/user/login\",formData);tokenDispatch({type:\"SET_TOKEN\",payload:result.data.token});userDispatch({type:\"SET_USER\",payload:result.data.user});localStorage.setItem(\"authToken\",JSON.stringify(result.data.token));}catch(error){console.log(error);setError({message:error.response.data.message});}};const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",children:[userToken&&/*#__PURE__*/_jsx(Navigate,{to:\"/\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto h-100 w-auto\",src:loginImg,alt:\"Login\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-700\",children:\"Sign in to your account\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center border-2 border-yellow-400 p-2 mb-2 rounded-md bg-red-200\",children:error.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md shadow-sm -space-y-px\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",onChange:handleChange,className:\"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 focus:z-10 sm:text-sm\",placeholder:\"Email address\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:handleChange,className:\"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 focus:z-10 sm:text-sm\",placeholder:\"Password\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"h-4 w-4 text-yellow-400 focus:ring-yellow-400 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 block text-sm text-gray-900\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgotPassword\",className:\"font-medium text-yellow-500 hover:text-yellow-400\",children:\"Forgot password?\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400\",children:\"Sign in\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"font-medium text-yellow-500 hover:text-yellow-400\",children:\"Register here\"})]})})]})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useContext","Link","Navigate","axios","TokenContext","loginImg","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","userToken","tokenDispatch","userDispatch","error","setError","handleSubmit","e","preventDefault","result","post","type","payload","data","token","user","localStorage","setItem","JSON","stringify","console","log","message","response","handleChange","name","value","target","className","children","to","src","alt","onSubmit","onChange","placeholder"],"sources":["C:/Users/Admin/Desktop/Kaushalam-ToDO/Todo-kaushalam/frontend/src/components/Login.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport axios from \"../Axios/axios.js\"\r\nimport TokenContext from '../context/TokenContext.js';\r\nimport loginImg from '../assets/login.png';\r\n\r\nfunction Login() {\r\n    const [formData, setFormData] = useState({});\r\n    const { userToken, tokenDispatch, userDispatch } = useContext(TokenContext);\r\n    const [error, setError] = useState();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const result = await axios.post(\"/user/login\", formData)\r\n            tokenDispatch({ type: \"SET_TOKEN\", payload: result.data.token })\r\n            userDispatch({ type: \"SET_USER\", payload: result.data.user })\r\n            localStorage.setItem(\"authToken\", JSON.stringify(result.data.token))\r\n        } catch (error) {\r\n            console.log(error);\r\n            setError({ message: error.response.data.message })\r\n        }\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({ ...formData, [name]: value })\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n            {userToken && <Navigate to=\"/\" />}\r\n            <div className=\"max-w-md w-full space-y-8\">\r\n                <div>\r\n                    <img\r\n                        className=\"mx-auto h-100 w-auto\"\r\n                        src={loginImg}\r\n                        alt=\"Login\"\r\n                    />\r\n                    <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-700\">\r\n                        Sign in to your account\r\n                    </h2>\r\n                </div>\r\n                <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n                    {error && (\r\n                        <div className=\"text-center border-2 border-yellow-400 p-2 mb-2 rounded-md bg-red-200\">\r\n                            {error.message}\r\n                        </div>\r\n                    )}\r\n                    <div className=\"rounded-md shadow-sm -space-y-px\">\r\n                        <div className=\"mb-4\">\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"email\"\r\n                                onChange={handleChange}\r\n                                className=\"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 focus:z-10 sm:text-sm\"\r\n                                placeholder=\"Email address\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-4\">\r\n                            <input\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                onChange={handleChange}\r\n                                className=\"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 focus:z-10 sm:text-sm\"\r\n                                placeholder=\"Password\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                className=\"h-4 w-4 text-yellow-400 focus:ring-yellow-400 border-gray-300 rounded\"\r\n                            />\r\n                            <label className=\"ml-2 block text-sm text-gray-900\">\r\n                                Remember me\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div className=\"text-sm\">\r\n                            <Link to=\"/forgotPassword\" className=\"font-medium text-yellow-500 hover:text-yellow-400\">\r\n                                Forgot password?\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400\"\r\n                        >\r\n                            Sign in\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"text-center\">\r\n                        <p className=\"text-sm text-gray-600\">\r\n                            Don't have an account?{' '}\r\n                            <Link to=\"/register\" className=\"font-medium text-yellow-500 hover:text-yellow-400\">\r\n                                Register here\r\n                            </Link>\r\n                        </p>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}