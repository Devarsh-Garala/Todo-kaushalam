{"ast":null,"code":"import\"./App.css\";import{useEffect,useReducer}from\"react\";import{BrowserRouter,Route,Routes,useParams}from\"react-router-dom\";import Active from\"./components/Active\";import Completed from\"./components/Completed\";import AllTask from\"./components/AllTask\";import Layout from\"./components/Layout\";import TaskContext from\"./context/TaskContext\";import TokenContext from\"./context/TokenContext\";import taskReducer from\"./reducer/taskReducer\";import tokenReducer from\"./reducer/tokenReducer\";import userReducer from\"./reducer/userReducer\";import Header from\"./components/Header/Header\";import Login from\"./components/Login\";import Register from\"./components/Register\";import ForgotPassword from\"./components/forgotPassword/ForgotPassword\";import ResetPassword from\"./components/forgotPassword/ResetPassword\";import axios from\"./Axios/axios.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const token=JSON.parse(localStorage.getItem(\"authToken\"));const[tasks,dispatch]=useReducer(taskReducer,[]);const[userToken,tokenDispatch]=useReducer(tokenReducer,token);const[user,userDispatch]=useReducer(userReducer,{});const{id}=useParams();useEffect(()=>{const fetchUser=async()=>{try{const res=await axios.get(\"/user/getUser\",{headers:{Authorization:`Bearer ${userToken}`}});userDispatch({type:\"SET_USER\",payload:res.data.user});}catch(error){console.log(error);}};if(userToken){fetchUser();}},[userToken]);useEffect(()=>{const fetchTasks=async()=>{try{const res=await axios.get(\"/task/getTask\",{headers:{Authorization:`Bearer ${userToken}`}});dispatch({type:\"SET_TASK\",payload:res.data});}catch(error){console.log(error);}};if(userToken){fetchTasks();}},[userToken]);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(TokenContext.Provider,{value:{userToken,tokenDispatch,user,userDispatch},children:/*#__PURE__*/_jsx(TaskContext.Provider,{value:{tasks,dispatch},children:/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Header,{}),children:[/*#__PURE__*/_jsxs(Route,{path:\"/edit/:id\",element:token?/*#__PURE__*/_jsx(Layout,{id:id}):/*#__PURE__*/_jsx(Login,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(AllTask,{})}),/*#__PURE__*/_jsx(Route,{path:\"active\",element:/*#__PURE__*/_jsx(Active,{})}),/*#__PURE__*/_jsx(Route,{path:\"completed\",element:/*#__PURE__*/_jsx(Completed,{})})]}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:token?/*#__PURE__*/_jsx(Layout,{}):/*#__PURE__*/_jsx(Login,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(AllTask,{})}),/*#__PURE__*/_jsx(Route,{path:\"active\",element:/*#__PURE__*/_jsx(Active,{})}),/*#__PURE__*/_jsx(Route,{path:\"completed\",element:/*#__PURE__*/_jsx(Completed,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgotPassword\",element:/*#__PURE__*/_jsx(ForgotPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/resetPassword\",element:/*#__PURE__*/_jsx(ResetPassword,{})})]})})})})});}export default App;","map":{"version":3,"names":["useEffect","useReducer","BrowserRouter","Route","Routes","useParams","Active","Completed","AllTask","Layout","TaskContext","TokenContext","taskReducer","tokenReducer","userReducer","Header","Login","Register","ForgotPassword","ResetPassword","axios","jsx","_jsx","jsxs","_jsxs","App","token","JSON","parse","localStorage","getItem","tasks","dispatch","userToken","tokenDispatch","user","userDispatch","id","fetchUser","res","get","headers","Authorization","type","payload","data","error","console","log","fetchTasks","children","Provider","value","path","element","index"],"sources":["C:/Users/Admin/Desktop/Kaushalam-ToDO/Todo-kaushalam/frontend/src/App.js"],"sourcesContent":["import \"./App.css\";\r\nimport { useEffect, useReducer } from \"react\";\r\nimport { BrowserRouter, Route, Routes, useParams } from \"react-router-dom\";\r\nimport Active from \"./components/Active\";\r\nimport Completed from \"./components/Completed\";\r\nimport AllTask from \"./components/AllTask\";\r\nimport Layout from \"./components/Layout\";\r\nimport TaskContext from \"./context/TaskContext\";\r\nimport TokenContext from \"./context/TokenContext\";\r\nimport taskReducer from \"./reducer/taskReducer\";\r\nimport tokenReducer from \"./reducer/tokenReducer\";\r\nimport userReducer from \"./reducer/userReducer\";\r\nimport Header from \"./components/Header/Header\";\r\nimport Login from \"./components/Login\";\r\nimport Register from \"./components/Register\";\r\nimport ForgotPassword from \"./components/forgotPassword/ForgotPassword\";\r\nimport ResetPassword from \"./components/forgotPassword/ResetPassword\";\r\nimport axios from \"./Axios/axios.js\";\r\n\r\nfunction App() {\r\n  const token = JSON.parse(localStorage.getItem(\"authToken\"));\r\n  const [tasks, dispatch] = useReducer(taskReducer, []);\r\n  const [userToken, tokenDispatch] = useReducer(tokenReducer, token);\r\n  const [user, userDispatch] = useReducer(userReducer, {});\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      try {\r\n        const res = await axios.get(\"/user/getUser\", {\r\n          headers: {\r\n            Authorization: `Bearer ${userToken}`,\r\n          },\r\n        });\r\n        userDispatch({ type: \"SET_USER\", payload: res.data.user });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    if (userToken) {\r\n      fetchUser();\r\n    }\r\n  }, [userToken]);\r\n\r\n  useEffect(() => {\r\n    const fetchTasks = async () => {\r\n      try {\r\n        const res = await axios.get(\"/task/getTask\", {\r\n          headers: {\r\n            Authorization: `Bearer ${userToken}`,\r\n          },\r\n        });\r\n        dispatch({ type: \"SET_TASK\", payload: res.data });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    if (userToken) {\r\n      fetchTasks();\r\n    }\r\n  }, [userToken]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <TokenContext.Provider\r\n        value={{ userToken, tokenDispatch, user, userDispatch }}\r\n      >\r\n        <TaskContext.Provider value={{ tasks, dispatch }}>\r\n          <Routes>\r\n            <Route path=\"/\" element={<Header />}>\r\n              <Route\r\n                path=\"/edit/:id\"\r\n                element={token ? <Layout id={id} /> : <Login />}\r\n              >\r\n                <Route index element={<AllTask />} />\r\n                <Route path=\"active\" element={<Active />} />\r\n                <Route path=\"completed\" element={<Completed />} />\r\n              </Route>\r\n              <Route path=\"/\" element={token ? <Layout /> : <Login />}>\r\n                <Route index element={<AllTask />} />\r\n                <Route path=\"active\" element={<Active />} />\r\n                <Route path=\"completed\" element={<Completed />} />\r\n              </Route>\r\n              <Route path=\"/login\" element={<Login />} />\r\n              <Route path=\"/register\" element={<Register />} />\r\n              <Route path=\"/forgotPassword\" element={<ForgotPassword />} />\r\n              <Route path=\"/resetPassword\" element={<ResetPassword />} />\r\n            </Route>\r\n          </Routes>\r\n        </TaskContext.Provider>\r\n      </TokenContext.Provider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}